<!DOCTYPE html>
<html>
<head>
    <title>One word</title>
    </head>
<body style = "background-color: black;">
    <br><br><br><br><br><br><br><br>
    <style>
        h1{
            font-size: 100px;
            text-align: center;
            font-family: sans-serif;
            color: white;
        }
        h2 {
            font-size: 45px;
            color: white;
        }
    </style>
    <h1 id = "display"> Sample text</h1>
    
    <br>
    <button onclick = "play()"><h3 style = "font-size: 30px">Play</h3></button>
    <button onclick = "set()" style = "background-color: red"><h3 style = "font-size: 30px">Always press me before you press play!</h3></button>
    <button onclick = "reset()"><h3 style = "font-size: 30px">Reset</h3></button>
    <br>
     <textarea cols="220" rows="15" id = "input"></textarea>
    <script>
        
        var text = ""
        var arrayOfText = [[]]
        var words = []
        
        function set() {
            text = document.getElementById("input").value
            //document.write(text)
            
            var index = 0
            for (i = 0; i < text.length; i++){
            if (text[i] == " ") {
            arrayOfText.push([])
            index += 1
            }
          else {
          arrayOfText[index].push(text[i])
          } 
        }
            
        for (j = 0; j < arrayOfText.length; j++){
            words.push(arrayOfText[j].join(""))
        }
    }
              
        var count = 0
        
        function reset(){
            count = 0
            text = ""
        document.getElementById("display").innerHTML = "Sample text"
            arrayOfText = [[]]
            words = []
        }
        
        var playSpeed = 300
        function play() {
        var myTimer = setInterval(printWords,playSpeed)
            function printWords(){
                
            if (count == words.length - 1){
                //document.write("done")
                clearInterval(myTimer)
            }
                
            if (arrayOfText[count].includes(".") || arrayOfText[count].includes(",") || arrayOfText[count].includes("!") || arrayOfText[count].includes("â€”") || arrayOfText[count].includes("?") || arrayOfText[count].includes(";") || arrayOfText[count].includes(":") ||
            arrayOfText[count].includes("-")){
              display()
            }
        document.getElementById("display").innerHTML = words[count]
            count += 1
            }
            
            
        function display(){
          clearInterval(myTimer)
          setTimeout(function(){
             play()
          }, 720)
        }
      }

    </script>
    </body>
</html>